# SPRING ADVANCED
# 테스트 코드 리커버리

<img width="701" alt="스크린샷 2025-06-09 오후 3 21 08" src="https://github.com/user-attachments/assets/0af0614a-7bd6-4360-888e-2562ea2e81c8" />

# 리펙토링 내용
## GlobalExceptionHandler-getErrorResponse 메서드

해당 기능은 예외처리 클래스에서만 사용해야한다고 가정

실제 메서드의 사용 위치 추적

외부 클래스에서 사용한 내역 X

public 접근제어자 - private로 변경

## JwtFilter 의미 없는 다음 필터 중복 호출 제거

코드 구조상 chain.doFilter를 두번 호출할 이유가 없다고 판단

조건문 내부의 필터 호출 제거

기능에 문제 없음을 확인

## @Valid 검증 시 예외처리 추가

@Valid 검증을 했을 때 예외를 처리해주는 기능이 없음을 확인

전역 예외 처리 클래스를 통해 MethodArgumentNotValidException에 대한 응답 처리 코드 작성

검증 실패 시 해당 핸들러가 작동하는 것을 확인

## AuthService - signup 비니니스 로직 수정

비밀번호 인코딩 후 이메일 중복을 체크하는 과정을 확인

로직상으로 이메일 중복 검사가 1순위로 진행하여 우선적으로 탈출해야 한다고 판단

비밀번호 인코딩 하는 순서를 이메일 중복 검사 이후로 변경

기능 이상 없음을 확인

## RequestDto의 검증 메시지 적용

요청 검증 실패시 반환할 메시지가 있어야 사용자가 원인 분석이 원할할 것이라 필요하다고 판단

모든 요청 DTO에 검증 실패 시 발생하는 메시지 적용

## 모든 컨트롤러의 반환 타입을 일관성 있도록 기능 구성

반환 타입이 조금씩 섞여 있어서 사용자가 사용할 때 접근하기 어려워질 수 있음을 고려

반환 타입을 일관성 있게 사용하도록 EntityResponser를 작성하여 모든 컨트롤러에 적용

기능 이상 없음을 확인

